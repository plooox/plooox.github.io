<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>[Web] 브라우저 렌더링과 HTML 파싱 - Plox's blog</title><meta name=Description content="브라우저가 HTML을 해석해서 표시하는 방식을 알아보자"><meta property="og:title" content="[Web] 브라우저 렌더링과 HTML 파싱"><meta property="og:description" content="브라우저가 HTML을 해석해서 표시하는 방식을 알아보자"><meta property="og:type" content="article"><meta property="og:url" content="http://plooox.github.io/browser-rendering/"><meta property="og:image" content="http://plooox.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-26T03:24:15+09:00"><meta property="article:modified_time" content="2022-07-26T03:24:15+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://plooox.github.io/logo.png"><meta name=twitter:title content="[Web] 브라우저 렌더링과 HTML 파싱"><meta name=twitter:description content="브라우저가 HTML을 해석해서 표시하는 방식을 알아보자"><meta name=application-name content="Plox's blog"><meta name=apple-mobile-web-app-title content="Plox's blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=http://plooox.github.io/browser-rendering/><link rel=prev href=http://plooox.github.io/git/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"[Web] 브라우저 렌더링과 HTML 파싱","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/plooox.github.io\/browser-rendering\/"},"genre":"posts","keywords":"HTML parsing, Browser, ","wordcount":512,"url":"http:\/\/plooox.github.io\/browser-rendering\/","datePublished":"2022-07-26T03:24:15+09:00","dateModified":"2022-07-26T03:24:15+09:00","publisher":{"@type":"Organization","name":"Plox"},"author":{"@type":"Person","name":"Plox"},"description":"브라우저가 HTML을 해석해서 표시하는 방식을 알아보자"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Plox's blog">Plox's Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Plox's blog">Plox's Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">[Web] 브라우저 렌더링과 HTML 파싱</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Plox</a></span>&nbsp;<span class=post-category>included in <a href=/categories/web/><i class="far fa-folder fa-fw"></i>Web</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-07-26>2022-07-26</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;512 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;3 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#브라우저-주요기능>브라우저 주요기능</a></li><li><a href=#기본-구조>기본 구조</a></li><li><a href=#렌더링-엔진>렌더링 엔진</a><ul><li><a href=#동작-과정>동작 과정</a></li><li><a href=#parsing>Parsing</a></li><li><a href=#html-파서>HTML 파서</a><ul><li><a href=#파싱-알고리즘>파싱 알고리즘</a></li><li><a href=#오류처리>오류처리</a></li></ul></li></ul></li><li><a href=#참고-tokenizer-lexer-parser>참고) Tokenizer, Lexer, Parser</a><ul><li><a href=#tokenizer>Tokenizer</a><ul><li><a href=#token>Token</a></li></ul></li><li><a href=#lexer>Lexer</a></li><li><a href=#parser>Parser</a><ul><li><a href=#ast>AST</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h1 id=브라우저-주요기능>브라우저 주요기능</h1><blockquote><p>사용자가 선택한 자원을 서버에 요청하고 브라우저에 표시</p></blockquote><ul><li>URI(Uniform Resource Identifier)에 의해 결졍된 자원(주로 HTML)에 의해 저장</li><li>HTML과 CSS명세에 따라, HTML 파일을 해석해서 표시</li></ul><h1 id=기본-구조>기본 구조</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png data-srcset="https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png, https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png 1.5x, https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png 2x" data-sizes=auto alt=https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png title=https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png></p><ul><li>사용자 인터페이스<ul><li>주소 표시줄, 이전/다음 버튼, 북마크 메뉴 등. 요청 페이지를 보여주는 창을 제외한 나머지 모든 부분</li></ul></li><li>브라우저 엔진<ul><li>사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어</li></ul></li><li>렌더링 엔진<ul><li>요청한 콘텐츠를 표시</li><li>ex) HTML을 요청하면 HTML과 CSS를 파싱하여 화면에 표시</li></ul></li><li>통신<ul><li>HTTP 요청과 같은 네트워크 호출에 사용</li><li>플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행됨</li></ul></li><li>UI 백엔드<ul><li>콤보 박스와 창 같은 기본적인 장치를 그림</li><li>플랫폼에서 명시하지 않은 일반적인 인터페이스로서, OS 사용자 인터페이스 체계를 사용</li></ul></li><li>자바스크립트 해석기<ul><li>자바스크립트 코드를 해석하고 실행</li></ul></li><li>자료 저장소<ul><li>자료를 저장하는 계층</li></ul></li></ul><h1 id=렌더링-엔진>렌더링 엔진</h1><ul><li><strong>요청 받은 내용을 브라우저 화면에 표시</strong></li><li>HTML 및 XML 문서와 이미지를 표시</li><li>파이어폭스는 게코(Gecko) 엔진, 사파리와 크롬은 웹킷(Webkit) 엔진 사용</li><li>Webkit<ul><li>최초 리눅스 플랫폼에서 동작하기 위해 제작된 오픈소스 엔진</li><li>애플이 맥과 윈도우즈에서 사파리 브라우저를 지원하기 위해 수정</li></ul></li></ul><h2 id=동작-과정>동작 과정</h2><p><img class=lazyload src=/svg/loading.min.svg data-src=https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png data-srcset="https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png, https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png 1.5x, https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png 2x" data-sizes=auto alt=https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png title=https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png></p><ol><li><strong>HTML 문서를 파싱하고, 태그를 DOM 노드로 변환</strong></li><li>CSS파일과 함께 스타일 요소 파싱</li><li>스타일 정보 & HTML 표시 규칙 → <strong>Render Tree 생성</strong></li><li>각 노드가 화면의 정확한 위치에 표시되도록 Render Tree 배치</li><li>UI 벡엔드에서 Render Tree의 각 노드를 경유하며 그리기과정 수행</li></ol><h2 id=parsing>Parsing</h2><ul><li>문서 파싱: 브라우저가 코드를 이해하고, 사용할 수 있는 구조로 변환</li><li>파싱결과는 문서구조를 나타내는 노드트리(= 파싱트리, 문법트리)</li><li><strong>어휘 분석</strong>과 <strong>구문 분석</strong><ul><li><strong>어휘 분석</strong><ul><li>자료 → 토큰으로 분해</li><li><strong>토큰</strong>: 유효하게 구성된 단위의 집합체</li></ul></li><li><strong>구문 분석</strong><ul><li>언어의 구문 규칙을 적용</li><li>규칙에 맞으면 노드가 파싱트리에 추가</li></ul></li></ul></li></ul><p><img class=lazyload src=/svg/loading.min.svg data-src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8dbc435a-6a28-4ce8-8e2d-287db76c4f5e/Untitled.png data-srcset="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8dbc435a-6a28-4ce8-8e2d-287db76c4f5e/Untitled.png, https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8dbc435a-6a28-4ce8-8e2d-287db76c4f5e/Untitled.png 1.5x, https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8dbc435a-6a28-4ce8-8e2d-287db76c4f5e/Untitled.png 2x" data-sizes=auto alt=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8dbc435a-6a28-4ce8-8e2d-287db76c4f5e/Untitled.png title=Untitled></p><ul><li><strong>하향식 파서</strong>와 <strong>상향식 파서</strong> 두 종류가 존재<ul><li><strong>하향식 파서</strong><ul><li>표현식에 해당하는 높은 수준의 규칙을 탐색</li><li>점진적으로 다른 규칙을 탐색</li><li><code>2+3-1</code> → <code>+3-1</code> → <code>3-1</code> → <code>-1</code> → <code>1</code> → ``</li></ul></li><li><strong>상향식 파서</strong><ul><li>입력값이 오른쪽으로 이동하면서 구문 규칙으로 남는것이 점차 감소</li><li>이동-감소 파서</li></ul></li></ul></li></ul><h2 id=html-파서>HTML 파서</h2><ul><li>HTML마크업 → 파싱트리</li><li>문맥 자유 문법이 아님 → 전통적 파서 적용 불가<ul><li>언어가 너그러움</li><li>HTML에 대한 브라우저의 관용</li></ul></li></ul><h3 id=파싱-알고리즘>파싱 알고리즘</h3><ul><li>토큰화<ul><li>어휘 분석</li><li>입력값 → 토큰으로 파싱</li><li>HTML토큰: 시작태그, 종료태그, 속성 이름, 속성 값</li><li>트리 구축<ul><li><code>초기상태(자료상태)</code> - <code>태그 열림 상태</code> - <code>태그 이름 상태</code> 가 재귀적으로 작동
<img class=lazyload src=/svg/loading.min.svg data-src=https://d2.naver.com/content/images/2015/06/helloworld-59361-10.png data-srcset="https://d2.naver.com/content/images/2015/06/helloworld-59361-10.png, https://d2.naver.com/content/images/2015/06/helloworld-59361-10.png 1.5x, https://d2.naver.com/content/images/2015/06/helloworld-59361-10.png 2x" data-sizes=auto alt=https://d2.naver.com/content/images/2015/06/helloworld-59361-10.png title=https://d2.naver.com/content/images/2015/06/helloworld-59361-10.png>
<img class=lazyload src=/svg/loading.min.svg data-src=https://d2.naver.com/content/images/2015/06/helloworld-59361-11.png data-srcset="https://d2.naver.com/content/images/2015/06/helloworld-59361-11.png, https://d2.naver.com/content/images/2015/06/helloworld-59361-11.png 1.5x, https://d2.naver.com/content/images/2015/06/helloworld-59361-11.png 2x" data-sizes=auto alt=https://d2.naver.com/content/images/2015/06/helloworld-59361-11.png title=https://d2.naver.com/content/images/2015/06/helloworld-59361-11.png></li></ul></li></ul></li></ul><h3 id=오류처리>오류처리</h3><ul><li>규칙이 위반된 HTML 태그들이 있어도 브라우저의 파서는 이러한 오류를 찾아서 처리해줌</li><li>HTML에서는 이러한 요구사항 일부를 정의함</li><li>HTML파서는 오류에 대한 관용이 있어야한다<ol><li><em>어떤 태그의 안쪽에 추가하려는 태그가 금지된 것일 때 일단 허용된 태그를 먼저 닫고 금지된 태그는 외부에 추가한다.</em></li><li><em>파서가 직접 요소를 추가해서는 안된다. 문서 제작자에 의해 뒤늦게 요소가 추가될 수 있고 생략 가능한 경우도 있다. HTML, HEAD, BODY, TBODY, TR, TD, LI 태그가 이런 경우에 해당한다.</em></li><li><em>인라인 요소 안쪽에 블록 요소가 있는 경우 부모 블록 요소를 만날 때까지 모든 인라인 태그를 닫는다.</em></li><li><em>이런 방법이 도움이 되지 않으면 태그를 추가하거나 무시할 수 있는 상태가 될 때까지 요소를 닫는다.</em></li></ol></li></ul><hr><h1 id=참고-tokenizer-lexer-parser>참고) Tokenizer, Lexer, Parser</h1><h2 id=tokenizer>Tokenizer</h2><ul><li>어떤 구문에서 의미있는 요소들을 토큰으로 쪼개는 역할</li></ul><h3 id=token>Token</h3><ul><li>어휘 분석의 단위 → “의미있는 단위”</li><li>HTML에서 토큰은 시작 태그, 종료 태그, 속성 이름과 속성 값</li></ul><h2 id=lexer>Lexer</h2><ul><li>Tokenizer에 의해 쪼개진 Token의 의미를 분석</li><li>Tokenizer + Lexer = Lexical Analyzer<ul><li>의미있는 조각을 검출하여 Token생성</li></ul></li></ul><h2 id=parser>Parser</h2><ul><li>Lexical Analyze된 데이터를 가지고 구조화</li><li>AST의 형태를 가짐</li></ul><h3 id=ast>AST</h3><ul><li>Abstract Syntax Tree</li><li>데이터를 의미별로 분리하여 컴퓨터가 이해할 수 있는 구조로 변경시킨 트리</li></ul><hr><p><a href=https://d2.naver.com/helloworld/59361 target=_blank rel="noopener noreffer">참고자료 - 브라우저는 어떻게 동작하는가?</a>)<br><a href=https://velog.io/@mu1616/%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC-%EC%9D%B4%EB%A1%A0%EC%97%90%EC%84%9C-%ED%86%A0%ED%81%AC%EB%82%98%EC%9D%B4%EC%A0%80Tokenizer-%EB%A0%89%EC%84%9CLexer-%ED%8C%8C%EC%84%9CParse-%EC%9D%98-%EC%97%AD%ED%95%A0 target=_blank rel="noopener noreffer">컴파일러 이론에서 토크나이저(Tokenizer), 렉서(Lexer), 파서(Parse) 의 역할</a><br><a href=https://gobae.tistory.com/94#%EC%25B-%25--%EC%25--%25--%25--%EA%25B-%AC%EB%AC%25B-%25--%ED%25-A%25B-%EB%25A-%AC-AST- target=_blank rel="noopener noreffer">[컴파일러] 토크나이저, 렉서, 파서 (Tokenizer, Lexer, Parser)</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-07-26</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/browser-rendering/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/html-parsing/>HTML parsing</a>,&nbsp;<a href=/tags/browser/>Browser</a>,&nbsp;<a href=/tags/>Tags</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/git/ class=prev rel=prev title="Git 개념 이해하기"><i class="fas fa-angle-left fa-fw"></i>Git 개념 이해하기</a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Plox</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{utterances:{darkTheme:"github-dark",issueTerm:"pathname",label:"",lightTheme:"github-light",repo:"plooox/blog_comments"}},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>